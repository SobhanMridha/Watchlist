<!DOCTYPE html>
<html lang="en" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/static/output.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/daisyui@5"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/daisyui@5/themes.css"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap"
      rel="stylesheet"
    />

    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <title>{% block title %}{% endblock %}</title>
  </head>
  <body class="font-opensans">
    <header>
      <div class="navbar bg-gray-800 text-gray-300 shadow-sm px-4">
        <!-- Left: Logo + Mobile Dropdown -->
        <div class="navbar-start">
          <div class="dropdown">
            <div
              tabindex="0"
              role="button"
              class="btn btn-ghost text-gray-300 lg:hidden"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-6 w-6"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4 6h16M4 12h8m-8 6h16"
                />
              </svg>
            </div>
            <ul
              tabindex="0"
              class="menu menu-sm dropdown-content mt-3 z-10 p-2 shadow bg-gray-800 rounded-box w-52"
            >
              <li><a href="/" class="hover:text-white">Home</a></li>
              <li>
                <a href="/watchlist" class="hover:text-white">Watchlist</a>
              </li>
              <li><a href="/watched" class="hover:text-white">Watched</a></li>
            </ul>
          </div>
          <a class="btn btn-ghost text-xl text-white">Watchlist</a>
        </div>

        <!-- Center: Horizontal Menu -->
        <div class="navbar-center hidden lg:flex">
          <ul class="menu menu-horizontal px-1 text-sm">
            <li><a href="/" class="hover:text-white">Home</a></li>
            <li><a href="/watchlist" class="hover:text-white">Watchlist</a></li>
            <li><a href="/watched" class="hover:text-white">Watched</a></li>
          </ul>
        </div>

        <div class="navbar-end space-x-2">
          {% if session.get("user_id") %}

          <a
            class="btn btn-sm bg-blue-600 text-white hover:bg-blue-700"
            href="/logout"
            >Log Out</a
          >
          {% else %}
          <a
            class="btn btn-sm bg-blue-600 text-white hover:bg-blue-700"
            href="/register"
            >Register</a
          >
          <a
            class="btn btn-sm bg-green-600 text-white hover:bg-green-700"
            href="/login"
            >Log In</a
          >
          {% endif %}
        </div>
      </div>

      <div class="w-full space-y-4 absolute">
        {% with messages = get_flashed_messages(with_categories=true) %} {% if
        messages %} {% for category, message in messages %}
        <div
          class="text-center px-4 py-3 rounded relative {% if category == 'success' %} bg-green-100 text-green-800 {% elif category == 'error' %} bg-red-100 text-red-800 {% endif %}"
        >
          {{ message }}
        </div>
        {% endfor %} {% endif %} {% endwith %}
      </div>
    </header>

    <main>
      {% block content %} {% endblock %} {% block bar %} {% endblock %} {% block
      main %} {% endblock %}
    </main>

    <footer
      class="bg-gray-800 text-gray-300 rounded p-10 flex flex-col items-center gap-6"
    >
      <!-- Social Icons -->
      <nav>
        <div class="grid grid-flow-col gap-6">
          <kbd class="kbd">S</kbd>
          <kbd class="kbd">O</kbd>
          <kbd class="kbd">B</kbd>
          <kbd class="kbd">H</kbd>
          <kbd class="kbd">A</kbd>
          <kbd class="kbd">N</kbd>
        </div>
      </nav>

      <!-- Navigation Links -->
      <nav class="grid grid-flow-col gap-6 text-sm">
        <a class="hover:underline hover:text-white cursor-pointer">About us</a>
        <a class="hover:underline hover:text-white cursor-pointer">Contact</a>
        <a class="hover:underline hover:text-white cursor-pointer">Jobs</a>
        <a class="hover:underline hover:text-white cursor-pointer">Press kit</a>
      </nav>

      <!-- Footer Text -->
      <aside class="text-sm text-gray-400 text-center">
        <p>&copy; <span id="year"></span> - All rights reserved by Me!!!</p>
      </aside>

      <!-- Optional: Dynamic Year Script -->
      <script>
        document.getElementById("year").textContent = new Date().getFullYear();
      </script>
    </footer>
  </body>
</html>
